<form>
    <fieldset>
        <div class="row">
            <div class="col-12">
                <h1> </h1>
                <h4>Управление товарами:</h4>
                <input type="button" value="Добавить" class="btn btn-success" (click)="addProduct()" />
                <p></p>
                <table class="table table-hover" width="100%">
                    <thead>
                        <tr>
                            <th>Id</th>
                            <th>Название</th>
                            <th>Количество на складе</th>
                            <th>Цена, руб.</th>
                            <th>Описание</th>
                            <th>Категория</th>
                            <th>Тип</th>
                            <th>Производитель</th>
                            <th>Размер</th>
                            <th>Цвет</th>
                            <th>Материал(ы)</th>
                            <th>Скидка, %</th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let product of products">

                            <td>{{product.id}}</td>
                            <td>{{product.name}}</td>
                            <td>{{product.quantityInStock}}</td>
                            <td>{{product.price}}</td>
                            <td>{{product.description}}</td>
                            <td>{{product.category.name}}</td>
                            <td>{{product.type.name}}</td>
                            <td>{{product.manufacturer.name}}</td>
                            <td>{{product.size.name}}</td>
                            <td>{{product.color.name}}</td>
                            <td>
                        <tr *ngFor="let material of product.materials">{{material.name}}</tr>
                        </td>
                        <td>{{product.discount.discountValue}}</td>
                        <td>
                            <input type="button" value="Изменить" class="btn btn-warning"
                                (click)="editProduct(product)" />
                        </td>
                        <td>
                            <input type="button" value="Удалить" (click)="deleteProduct(product)"
                                class="btn btn-danger" />
                        </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </fieldset>

    <h1></h1>

    <fieldset>
        <div class="row">
            <div class="col-8">
                <div class="form-group">
                    <label>Name:</label>
                    <input class="form-control" type="text" name="name" [(ngModel)]="product.name"
                        #productName="ngModel" placeholder="Название товара...">
                </div>
                <div class="form-group">
                    <label>Category:</label>
                    <select class="form-control" name="category" [ngModel]="product.category"
                        #productCategory="ngModel">
                        <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Type:</label>
                    <select class="form-control" name="type" [ngModel]="product.type" #productType="ngModel">
                        <option *ngFor="let type of types" [value]="type.id">{{type.name}}</option>
                    </select>
                </div>
            </div>

            <div class="col-4">
                <div>
                    <img src="https://zabavnik.club/wp-content/uploads/2018/05/Novoe_postuplenie_tovara_1_14084257.jpg"
                        height="220" width="220">
                    <p>Загружаемая картинка товара</p>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col-12">
                <div class="form-group">
                    <label>Manufacturer:</label>
                    <select class="form-control" name="manufacturer" [(ngModel)]="product.manufacturer"
                        #productManufacturer="ngModel">
                        <option *ngFor="let manufacturer of manufacturers" [value]="manufacturer.id">
                            {{manufacturer.name}}
                        </option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label>Material:</label>
                    <div *ngFor="let material of materials">
                        <input type="checkbox"
                            (change)="onChange(material.id, material.name, $event.target.checked)">{{material.name}}
                    </div>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label>Color:</label>
                    <select class="form-control" name="color" [(ngModel)]="product.color" #productColor="ngModel">
                        <option *ngFor="let color of colors" [value]="color.id">{{color.name}}</option>
                    </select>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label>Size:</label>
                    <select class="form-control" name="size" [(ngModel)]="product.size" #productSize="ngModel">
                        <option *ngFor="let size of sizes" [value]="size.id">{{size.name}}</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="row">
            <div class="col">
                <div class="form-group">
                    <label>Quantity in stock:</label>
                    <input class="form-control" type="number" name="quantityInStock"
                        [(ngModel)]="product.quantityInStock" #productQuantityInStock="ngModel"
                        placeholder="Количество товаров на складе...">
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label>Discount:</label>
                    <select class="form-control" name="discount" [(ngModel)]="product.discount"
                        #productDiscount="ngModel">
                        <option *ngFor="let discount of discounts" [value]="discount.id">{{discount.discountValue}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="col">
                <div class="form-group">
                    <label>Price:</label>
                    <input class="form-control" type="number" name="price" [(ngModel)]="product.price"
                        #productPrice="ngModel" placeholder="Цена товара...">
                </div>
            </div>
        </div>

        <div class="form-group">
            <label>Description:</label>
            <textarea class="form-control" name="description" [(ngModel)]="product.description"
                #productDescription="ngModel" placeholder="Описание товара..."></textarea>
        </div>

        <div class="row">
            <div class="col-2">
                <input type="button" value="Сохранить" (click)="saveProduct(productName, productCategory, productType, productManufacturer, 
                    productColor, productSize, productQuantityInStock, productDiscount, 
                    productPrice, productDescription)" class="btn btn-success" />
            </div>
            <div class="col-2">
                <input type="button" value="Отмена" (click)="cancel()" class="btn btn-warning" />
            </div>
        </div>

        <div class="form-group">
            {{statusMessage}}
        </div>
    </fieldset>
</form>