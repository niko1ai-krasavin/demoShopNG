<h3>Управление категориями:</h3>
<div class="ml-3 mr-3 mt-3">
  <input type="button" value="Добавить" class="btn btn-success mb-3" (click)="addCategory()" />
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Id</th>
        <th>Название</th>
        <th></th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let category of categories">
        <ng-template [ngTemplateOutlet]="loadTemplate(category)" [ngTemplateOutletContext]="{ $implicit: category}">
        </ng-template>
      </tr>
    </tbody>
  </table>
  <div>{{statusMessage}}</div>

  <!--шаблон для чтения-->
  <ng-template #readOnlyTemplate let-category>
    <td>{{category.id}}</td>
    <td>{{category.name}}</td>
    <td>
      <input type="button" value="Изменить" class="btn btn-warning" (click)="editCategory(category)" />
    </td>
    <td>
      <input type="button" value="Удалить" (click)="deleteCategory(category)" class="btn btn-danger" />
    </td>
  </ng-template>

  <!--шаблон для редактирования-->
  <ng-template #editTemplate>
    <td>
      <input type="text" [(ngModel)]="editedCategory.id" readonly disabled class="form-control" />
    </td>
    <td>
      <input type="text" [(ngModel)]="editedCategory.name" class="form-control" />
    </td>
    <td>
      <input type="button" value="Сохранить" (click)="saveCategory()" class="btn btn-success" />
    </td>
    <td>
      <input type="button" value="Отмена" (click)="cancel()" class="btn btn-warning" />
    </td>
  </ng-template>
</div>